(function(a){function L(a,b){G[a]||H++,G[a]=b}function M(a){G[a]&&(H--,G[a]=K)}function N(a){return l.nodeValue=a,k.innerHTML}function O(a){return m.innerHTML=a,m.innerText||m.textContent||h}function P(a){function f(f){var g,h;if(f&&(c=f),!b)return b=!0,a;if(c[n]||c==a){if(g=c.firstChild)return c!==a&&d.push(c),c=g;if(g=c[o])return e=c,c=g;for(;h=d.pop();)if(g=h[o])return e=h,c=g}else{for(;h=d.pop();)if(g=h[o])return e=h,c=g;if(e)return c=e[o]||K}return K}var e,b=!1,c=a,d=[];return f}function Q(a,b,c,d){for(var g,i,j,k,e=c?a:a[u](!0),f=P(e),h=[];g=f(k);)k=K,g.nodeType==g.ELEMENT_NODE?(g.hasAttribute(C)&&h.push(g),k=T(g,b,d||b)):g.nodeType==g.COMMENT_NODE&&g[n][q](g);for(;i=h.pop();)j=l[u](),j.nodeValue=i.innerHTML,i[n].replaceChild(j,i);return e}function R(a){var b;if(a==K)return!0;if(typeof a==c){if("length"in a&&0===a.length)return!0;for(b in a)if(e.call(a,b))return!1;return!0}return!1}function S(a,b,c){if(!a)return b;for(var j,d="/"==a.charAt(0),e=d?c:b,f=d?a.slice(1).split("."):a.split("."),g=0,h=f.length,i=e;h>g;g++)if(j=f[g],i=i[j],i==K)return K;return i}function T(a,i,j){var k,l,m;if(a.attributes.length&&(!I||!J||Object.keys(a.dataset).length)){if(k=a[s](w),k!==K){if(l=S(k,i,j),!l||R(l))return a[n][q](a),void 0;a[p](w)}if(k=a[s](x),k!==K){if(l=S(k,i,j),l&&!R(l))return a[n][q](a),void 0;a[p](x)}if(k=a[s](y),k!==K){var C,L,M;if(l=S(k,i,j),l!=K&&typeof l==c){var P=g.createDocumentFragment();if(d.call(l)==b)for(C=0,L=l.length;L>C;C++)M=a[u](!0),M[p](y),P[r](Q(M,l[C],!0,j));else{C=0;for(C in l)e.call(l,C)&&(M=a[u](!0),M[p](y),P[r](Q(M,l[C],!0,j)))}return m=a[o],a[n].insertBefore(P,a),a[n][q](a),m}}if(k=a[s](z),k!==K&&(l=S(k,i,j),l!=K&&(a[t](E)&&(a[p](E),l=N(l)),a[t](F)&&(a[p](F),l=O(l)),a[p](z),a.innerHTML=l||h)),k=a[s](D),k!==K){a[p](D);var T=function(a,b){return S(b,i,j)||h};a.innerHTML=k.replace(f,T)}if(k=a[s](A),k!==K)return l=S(k,i,j),m=a[o],a[p](A),Q(a,l,!0),m;if(k=a[s](B),k!==K){k=k.split(".");var W,U=k.length,V=function(a,b){return S(b,i,j)||h};for(a[p](B);U--;)W=a[s](k[U]),W&&a.setAttribute(k[U],W.replace(f,V))}var X;if(H)for(X in G)e.call(G,X)&&G[X]!=K&&(k=a[s](v+X),k!==K&&(a[p](v+X),G[X](a,k,i,j)))}}var b="[object Array]",c="object",d={}.toString,e={}.hasOwnProperty,f=/#{([^\}]+)\}/g,g=a.document,h="",i="createElement",j="createTextNode",k=g[i]("div"),l=g[j](h),m=g[i]("div"),n="parentNode",o="nextSibling",p="removeAttribute",q="removeChild",r="appendChild",s="getAttribute",t="hasAttribute",u="cloneNode",v="data-",w=v+"if",x=v+"unless",y=v+"each",z=v+"value",A=v+"with",B=v+"attrs",C=v+"textnode",D=v+"content",E=v+"escape",F=v+"strip",G={},H=0,I=typeof g[i]("div").dataset==c,J="function"==typeof Object.keys,K=null;k[r](l),Q.addCustomHelper=L,Q.removeCustomHelper=M,a.evaluate=Q})(this.window);