(function(a){function v(a){return h.nodeValue=a,g.innerHTML}function w(a){return i.innerHTML=a,i.innerText||i.textContent||""}function x(a){function f(f){var g,h;if(f&&(c=f),!b)return b=!0,a;if(c[j]||c==a){if(g=c.firstChild)return c!==a&&d.push(c),c=g;if(g=c[k])return e=c,c=g;for(;h=d.pop();)if(g=h[k])return e=h,c=g}else{for(;h=d.pop();)if(g=h[k])return e=h,c=g;if(e)return c=e[k]||null}return null}var e,b=!1,c=a,d=[];return f}function y(a,b,c){for(var g,i,k,d=c?a:a.cloneNode(!0),e=x(d),h=[];g=e(k);)k=null,g.nodeType==g.ELEMENT_NODE?(g.hasAttribute(u)&&h.push(g),k=B(g,b,b)):g.nodeType==g.COMMENT_NODE&&g[j].removeChild(g);for(;i=h.pop();)i[j].replaceChild(f.createTextNode(i.innerHTML),i);return d}function z(a){var b;if(null==a)return!0;if("object"==typeof a){if("length"in a&&0===a.length)return!0;for(b in a)if(d.call(a,b))return!1;return!0}return!1}function A(a,b,c){if(!a)return b;for(var i,d="/"==a.charAt(0)?c:b,e=a.split("."),f=0,g=e.length,h=d;g>f;f++)if(i=e[f],h=h[i],null==h)return null;return h}function B(a,g,h){var i,u,x;if(i=a[m](o),null!==i){if(u=A(i,g,h),!u||z(u))return a[j].removeChild(a),void 0;a[l](o)}if(i=a[m](p),null!==i){if(u=A(i,g,h),u&&!z(u))return a[j].removeChild(a),void 0;a[l](p)}if(i=a[m](q),null!==i){var B,C,D;if(u=A(i,g,h),null!=u&&"object"==typeof u){var E=f.createDocumentFragment();if(c.call(u)==b)for(B=0,C=u.length;C>B;B++)D=a.cloneNode(!0),D[l](q),E.appendChild(y(D,u[B],!0));else{B=0;for(B in u)d.call(u,B)&&(D=a.cloneNode(!0),D[l](q),E.appendChild(y(D,u[B],!0)))}return x=a[k],a[j].insertBefore(E,a),a[j].removeChild(a),x}}if(i=a[m](r),null!==i&&(u=A(i,g,h),null!=u&&(a[n]("data-escape")&&(u=v(u)),a[n]("data-strip")&&(u=w(u)),a[l](r),a.innerHTML=u||"")),i=a[m](s),null!==i)return u=A(i,g,h),x=a[k],a[l](s),y(a,u,!0),x;if(i=a[m](t),null!==i){i=i.split(".");var H,F=i.length,G=function(a,b){return A(b,g,h)||null};for(a[l](t);F--;)H=a[m](i[F]),H&&a.setAttribute(i[F],H.replace(e,G))}}var b="[object Array]",c={}.toString,d={}.hasOwnProperty,e=/#{([^\}]+)\}/g,f=a.document,g=f.createElement("div"),h=f.createTextNode(""),i=f.createElement("div"),j="parentNode",k="nextSibling",l="removeAttribute",m="getAttribute",n="hasAttribute",o="data-if",p="data-unless",q="data-each",r="data-value",s="data-with",t="data-attrs",u="data-textnode";g.appendChild(h),f.createElement("txt"),a.evaluate=y})(this.window);